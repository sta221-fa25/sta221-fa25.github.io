{
  "hash": "8f8b1256aa89bcfd4a47ee4fac7c7033",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Lab 07: Review\"\nexecute:\n  freeze: auto\n  echo: true\n  eval: false\n  warning: false\n  message: false\nformat: html\nbibliography: references.bib\n---\n\n\n\n::: callout-important\n# Due date\n\nThis lab is not due for grade.\n:::\n\n## Conceptual Practice\n\n### Exercise \n\nReview [ridge regression notes](/notes/lec16.html), [GLS notes](/notes/GLSintro.pdf), and [logistic regression notes](/notes/lec18.html). \n\nSummarize the main ideas, including (1) when the idea is appropriate, (2) the mathematical formulation, (3) how to fit the model to data.\n\n## Additional applied practice\n\nYou will use the following packages in todayâ€™s lab. Add other packages as needed.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(knitr)\nlibrary(pROC)\n```\n:::\n\n\n\n### Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrice <- readr::read_csv(\"https://sta221-fa25.github.io/labs/data/rice.csv\")\n```\n:::\n\n\n\n\nThe data in this lab contains measures describing the shape and structure of two rice varieties - *Cammeo* and *Osmancik*. To curate the data set, researchers used images from over 3,000 grains a rice in these two varieties. They then used automated methods to process the image data and extract 7 morphological features (features related to the structure) from each image. The data were originally presented and analyzed in @cinar2019classification and was obtained from the [UCI Machine Learning Repository](https://archive.ics.uci.edu/dataset/545/rice+cammeo+and+osmancik).\n\nThis analysis will focus on the following variables:\n\n-   `Class`: Cammeo or Osmancik\n\n-   `Area`: Size of the rice grain measured in pixels\n\n-   `Eccentricity`: A measure of how round the ellipse is, i.e., how close the shape of the grain is to a circle.\n\n[Click here](https://archive.ics.uci.edu/dataset/545/rice+cammeo+and+osmancik) for the full data dictionary.\n\n\n\n::: {.cell lable='read-data'}\n\n```{.r .cell-code}\nrice <- read_csv(\"data/rice.csv\")\n```\n:::\n\n\n\n## Exercises\n\n**Goal**: The goal of the analysis is to use Area and Eccentricity to identify grains from the Cammeo variety versus those from the Osmancik variety.\n\n### Exercise 1\n\nWe'll begin by exploring the data. Create a scatterplot of `Area` versus `Eccentricity` with the color and shape of the points by `Class`.\n\n### Exercise 2\n\nBased on the plot from the previous exercise, do you think the two types of rice can be distinguished based on `Area` and `Eccentricity`. Briefly explain.\n\n### Exercise 3\n\nWith this type of classification problem, it is common to test the performance of a logistic regression model by splitting the data into a *training* and a *test* set. This means that we will choose a random subset of the data to estimate the regression coefficient (training), and we will then test the predictions on the remaining observations (test).\n\n-   Randomly select 75% of the rows of the data to create the training set `rice_train` . Use `set.seed(221)`.\n\n-   Put the remaining 25% of the observations in the testing set called `rice_test`.\n\n### Exercise 4\n\nIn a logistic regression model, the *log-odds* of the response being \"1\" (or a \"success\") is given by $$\\log\\Big(\\frac{\\pi_i}{1-\\pi_i}\\Big) = \\mathbf{x}_i^\\mathsf{T} \\boldsymbol{\\beta}$$\n\nIn this analysis a \"success\" is the Class \"Osmancik\".\n\n-   What does each $\\pi_i$ represent in the context of this analysis?\n\n-   How is the probability of the response variable being \"1\" calculated from the log-odds? Show the mathematical steps to go from the log-odds to the probability in your response.\n\n### Exercise 5\n\nUse `rice_train` to fit the logistic regression model for the response variable `Class` on the predictors `Area` and `Eccentricity` .\n\n-   Neatly display the output using 3 digits.\n-   Does the intercept have any reasonable interpretation? If so, interpret the intercept. Otherwise explain why not.\n\n### Exercise 6\n\n-   Interpret the coefficients on `Area` and `Eccentricity` in the context of the data in terms of the odds and comment on whether they are useful predictors of `Class` in the model.\n\n### Exercise 7\n\n-   How would you expect the log-odds of the rice grain being of the Osmancik variety to change if the measures eccentricity changes from 0.85 to 0.9?\n\n-   How would you expect the odds of the rice grain being of the Osmancik variety to change if the measures eccentricity changes from 0.85 to 0.9?\n\n### Exercise 8\n\nNow let's test our model on the test set. Use the `predict()` function to obtain the predicted probabilities of the rice being Osmancik for the observations in `rice_test.`\n\n### Exercise 9\n\nWith these estimated probabilities, we can now try to classify the rice in the test set. Choose a threshold for assigning a class to each observation based on the estimated probability. Briefly explain your reasoning for selecting the threshold, including any analysis used to make your decision.\n\n## Exercise 10\n\nCompare the estimated class assignments you constructed with the actual classes. Comment on the result and thus the model performance.\n\n\n\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}